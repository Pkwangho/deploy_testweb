<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    a:link,
    a:visited {
        color: black;
        text-decoration: none;
    }

    ul {
        list-style: none;
        width: 500px;
        margin: 10px auto;
        padding: 0;
    }

    li {
        display: inline-block;
        background-color: rgb(199, 231, 230);
        width: 120px;
        border: 1px solid #ccc;
        padding: 10px 15px;
        font-style: initial;
        font-size: 18px;
        text-align: center;
    }

    #result {
        width: 500px;
        height: 800px;
        margin: 30px auto;
        border: 2px solid #ccc;
        border-radius: 15px;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        position: relative;
    }

    #menuName {
        position: absolute;
        bottom: 60px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.7);
        padding: 10px;
        border-radius: 5px;
        font-size: 24px;
        text-align: center;
    }

    #menuPrice {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.7);
        padding: 10px;
        border-radius: 5px;
        font-size: 20px;
        text-align: center;
    }

    button {
        display: grid;
        place-items: center;
        width: 90px;
        height: 30px;
        background: #222;
        color: #fff;
        border: 1px solid white;
    }

    input {
        width: 200px;
        padding: 5px;
        margin-right: 10px;
    }
</style>

<body>
    <ul id="menuList">
        <li><a href="#" onclick="changeBg('cold.jpg','밀면','9000원' )">메뉴1</a></li>
        <li><a href="#" onclick="changeBg('fish.jpg', '고등어구이솥밥정식','15000원')">메뉴2</a></li>
        <li><a href="#" onclick="changeBg('soup.jpg','돼지국밥','9000원')">메뉴3</a></li>
    </ul>
    
    <div style="display: flex; justify-content: center; margin-top: 20px;">
        <input type="text" id="newMenuName" placeholder="메뉴 이름">
        <input type="text" id="newMenuPrice" placeholder="가격">
        <button onclick="addMenu()">등록</button>
    </div>
    
    <div id="result">
        <div id="menuName"></div>
        <div id="menuPrice"></div>
    </div>
    
    <div style="display: flex; justify-content: center; margin-top: 20px;">
        <button onclick="randomMenu()">선택</button>
    </div>

    <script>
        const menus = [
            { img: 'cold.jpg', name: '밀면', price: '9000원' },
            { img: 'fish.jpg', name: '고등어구이솥밥정식', price: '15000원' },
            { img: 'soup.jpg', name: '돼지국밥', price: '9000원' }
        ];

        function addMenu() {
            const nameInput = document.getElementById('newMenuName');
            const priceInput = document.getElementById('newMenuPrice');
            const newName = nameInput.value;
            const newPrice = priceInput.value;

            if (newName && newPrice) {
                const newMenu = { img: 'food.jpg', name: newName, price: newPrice }; // 기본 이미지를 설정
                menus.push(newMenu);
                updateMenuList();
                nameInput.value = '';
                priceInput.value = '';
            } else {
                alert('메뉴 이름과 가격을 입력해주세요.');
            }
        }

        function updateMenuList() {
            const menuList = document.getElementById('menuList');
            menuList.innerHTML = ''; // 기존 목록 초기화
            menus.forEach((menu, index) => {
                const li = document.createElement('li');
                li.innerHTML = `<a href="#" onclick="changeBg('${menu.img}', '${menu.name}', '${menu.price}')">${menu.name}</a>
                                <button onclick="deleteMenu(${index})">삭제</button>`;
                menuList.appendChild(li);
            });
        }

        function deleteMenu(index) {
            menus.splice(index, 1); // 해당 인덱스의 메뉴 삭제
            updateMenuList(); // 목록 업데이트
        }

        function randomMenu() {
            const randomIndex = Math.floor(Math.random() * menus.length);
            const selectedMenu = menus[randomIndex];
            changeBg(selectedMenu.img, selectedMenu.name, selectedMenu.price);
        }

        function changeBg(img, name, price) {
            var result = document.querySelector('#result');
            result.style.backgroundImage = `url('${img}')`;
            menuName.textContent = name; // 메뉴 이름 설정
            menuPrice.textContent = price; // 가격 설정
        }
        
        // 초기 메뉴 목록 업데이트
        updateMenuList();
    </script>
</body>

</html>
